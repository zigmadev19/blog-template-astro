---
import HeaderLink from './HeaderLink.astro';
import Container from '@components/base/Container.astro';
import { SITE_TITLE } from '../consts';
const menus = [
{ menu : "Home" , url: "/"},
{ menu : "Blog" , url: "/blog/1"},
{ menu : "About" , url: "/about-me"},
{ menu : "contact" , url: "/contact"},
{ menu : "Privacy Police" , url: "/privacy-police"}
]

---

<header class="dark:bg-neutral-900 dark:text-neutral-100 py-4 sticky top-0 bg-white z-[99]">
	<Container class="flex justify-between flex-wrap lg:flex-nowrap items-center">
			<h2 class="basis-1/2 lg:basis-auto"><a class="text-xl font-bold dark:text-neutral-100" href="/">{SITE_TITLE}</a></h2>
			<nav id="nav-links" class="hidden lg:flex basis-full lg:basis-auto order-last">
				<div class="flex flex-col lg:flex-row gap-6 my-6 lg:my-0 rounded p-2">
				{menus.map(m =>
					<HeaderLink href={m.url}>{m.menu}</HeaderLink>
				)}
				</div>
			</nav>
			<div class="basis-1/2 lg:basis-auto lg:order-last flex justify-end gap-2">
				<button id="toggle-dackMode" class="flex items-center">
					<svg id="light-mode-icon" class="w-6 h-6 hover:rotate-45 transition-all" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z"></path></svg>

					<svg id="dark-mode-icon" class="hidden w-6 h-6 transition-all" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z"></path></svg>
				</button>
				<button id="toggle-menu" class="p-1 border lg:hidden">
					<svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"></path></svg>
				</button>
			</div>
	</Container>
</header>

<script>
	const toggleButton = document.getElementById("toggle-dackMode");
	const sunIcon = document.getElementById("light-mode-icon");
	const moonIcon = document.getElementById("dark-mode-icon");

	window.addEventListener("load", () => {
// 		if ( localStorage.getItem("darkMode") === false ) {
// 			document.documentElement.classList.remove('dark')
// 			}else {
// 				document.documentElement.classList.add('dark')
// 		}
//
// 		const themesLoad = localStorage.getItem("darkMode");
// 		if ( themesLoad ) {
// 			document.documentElement.classList.add('dark')
// 		} else {
// 			document.documentElement.classList.remove('dark')
// 		}
	});

	toggleButton.addEventListener('click', () => {
		const isDarkMode = document.documentElement.classList.contains('dark');
		localStorage.setItem('darkMode', isDarkMode);
		console.log(isDarkMode)
	});

	const toggleMenu = document.getElementById('toggle-menu');
	const navLinks = document.getElementById('nav-links');

	toggleMenu.addEventListener('click', () => {
		navLinks.classList.toggle('hidden');
	});
</script>
